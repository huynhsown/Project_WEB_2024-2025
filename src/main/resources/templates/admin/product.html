<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:text="${pageTitle}">Admin Dashboard</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
  <style>
    :root {
        --primary: #7952b3;
        --primary-light: #9671d0;
        --accent: #d4af37;
        --bg-gradient: linear-gradient(135deg, #f8f9fa, #f1f2f6);
    }

    .main-content {
        background: #ffffff;
        min-height: calc(100vh - var(--header-height));
    }

    .product-actions {
        background: var(--bg-gradient);
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .search-box {
        position: relative;
        max-width: 400px;
    }

    .search-box input {
        padding: 0.75rem 1rem 0.75rem 2.5rem;
        border-radius: 8px;
        border: 1px solid rgba(121, 82, 179, 0.2);
        background: white;
        transition: all 0.3s ease;
    }

    .search-box input:focus {
        border-color: var(--primary);
        box-shadow: 0 0 0 0.2rem rgba(121, 82, 179, 0.15);
    }

    .search-box i {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--primary);
    }

    .btn-custom {
        background: linear-gradient(45deg, var(--primary), var(--primary-light));
        border: none;
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 8px;
        transition: all 0.3s ease;
    }

    .btn-custom:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(121, 82, 179, 0.2);
        color: white;
    }

    .table-container {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        padding: 1.5rem;
    }

    .table {
        margin-bottom: 0;
    }

    .table th {
        background: var(--bg-gradient);
        color: var(--primary);
        font-weight: 600;
        padding: 1rem;
        border: none;
    }

    .table td {
        padding: 1rem;
        vertical-align: middle;
        border-color: rgba(121, 82, 179, 0.1);
    }

    .table tbody tr {
        transition: all 0.3s ease;
    }

    .table tbody tr:hover {
        background-color: rgba(121, 82, 179, 0.05);
    }

    .product-image {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border-radius: 8px;
        border: 2px solid rgba(121, 82, 179, 0.1);
        transition: all 0.3s ease;
    }

    .product-image:hover {
        transform: scale(1.05);
        border-color: var(--primary);
    }

    .badge-custom {
        background: linear-gradient(45deg, var(--primary), var(--primary-light));
        color: white;
        font-weight: 500;
        padding: 0.5em 1em;
        border-radius: 6px;
        font-size: 0.85rem;
    }

    .discount-badge {
        background: linear-gradient(45deg, #2ecc71, #27ae60);
        color: white;
        padding: 0.4em 0.8em;
        border-radius: 6px;
        font-size: 0.85rem;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }

    .action-icons {
        display: flex;
        gap: 0.5rem;
        justify-content: center;
    }

    .action-icons i {
        cursor: pointer;
        padding: 0.5rem;
        color: var(--primary);
        transition: all 0.3s ease;
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 6px;
    }

    .action-icons i:hover {
        background: rgba(121, 82, 179, 0.1);
        color: var(--primary-light);
        transform: translateY(-2px);
    }

    .action-icons .fa-trash-alt {
        color: #e74c3c;
    }

    .action-icons .fa-trash-alt:hover {
        background: rgba(231, 76, 60, 0.1);
        color: #c0392b;
    }
  </style>
</head>
<body>

<!-- Sidebar -->
<div th:replace="~{admin/common/menu}"></div>

<main class="main-content" id="main-content" th:fragment="product-content">
  <div th:replace="~{admin/common/header}"></div>

  <div class="product-actions d-flex justify-content-between align-items-center">
    <div class="search-box">
      <i class="fas fa-search"></i>
      <input type="text" class="form-control" placeholder="Tìm kiếm sản phẩm...">
    </div>
    <button class="btn btn-custom">
      <i class="fas fa-plus me-2"></i>Thêm Sản Phẩm Mới
    </button>
  </div>

  <div class="table-container">
    <table class="table">
      <thead>
      <tr>
        <th>Hình Ảnh</th>
        <th>Tên Sản Phẩm</th>
        <th>Danh Mục</th>
        <th>Giá</th>
        <th>Giảm Giá</th>
        <th>Nhà Cung Cấp</th>
        <th>Màu Sắc</th>
        <th>Thao Tác</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="product : ${products}">
        <td>
          <img th:src="${product.imageURL}" alt="Product" class="product-image">
        </td>
        <td th:text="${product.name}">Product Name</td>
        <td>
          <span class="badge-custom" th:text="${product.category}">Category</span>
        </td>
        <td th:text="${product.price}">$99.99</td>
        <td>
          <span class="discount-badge" th:if="${product.discountPercent > 0}">
            <i class="fas fa-tag"></i>
            <span th:text="${product.discountPercent + '%'}">20%</span>
          </span>
        </td>
        <td th:text="${product.supplier}">Supplier</td>
        <td>
          <span th:text="${product.colors}">Red, Blue</span>
        </td>
        <td>
          <div class="action-icons">
            <i class="fas fa-edit" title="Chỉnh sửa"></i>
            <i class="fas fa-trash-alt" title="Xóa"></i>
            <i class="fas fa-eye" title="Xem chi tiết"></i>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</main>
</body>
</html>