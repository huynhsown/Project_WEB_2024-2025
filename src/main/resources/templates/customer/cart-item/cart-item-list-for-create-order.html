<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Cart Items for Order</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <h1>Review Your Order</h1>

    <!-- Hiển thị danh sách Cart Items -->
    <table border="1" width="100%">
        <thead>
            <tr>
                <th>Product Name</th>
                <th>Size</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="cartItem : ${cartItems}">
                <td th:text="${cartItem.product.name}">Product Name</td>
                <td th:text="${cartItem.size.size}">Size</td>
                <td th:text="${cartItem.quantity}">Quantity</td>
                <td th:text="${cartItem.discountedPrice + ' VND'}">Price</td>
                <td th:text="${cartItem.totalPrice + ' VND'}">Total Price</td>
            </tr>
        </tbody>
    </table>

    <!-- Form Create Order -->
    <div>
        <h3>Shipping Address</h3>
        <form action="/customer/order/create" method="post">
            <!-- Địa chỉ -->
            <textarea name="address" placeholder="Enter your shipping address" rows="4" cols="50" required></textarea>
            <br>
            
            <!-- Hidden Inputs -->
            <!-- User ID -->
            <!-- Total Price -->
            <input type="hidden" name="totalPrice" th:value="${totalPrice}" />
            <!-- Cart Item IDs -->
            <input type="hidden" name="cartItemIds" th:value="${cartItemIdsString}" />

            <!-- Tổng giá -->
            <h3>Total: <span th:text="${totalPrice + ' VND'}"></span></h3>

            <!-- Nút Create Order -->
            <button type="submit">Create Order</button>
        </form>
    </div>
</body>
</html>
